<ui:composition template="/WEB-INF/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:define name="title">Profile</ui:define>
    <ui:define name="content">

        <h3>Welcome, #{userSession.user.userName}!</h3>
        <h2>Edit Profile</h2>
        <h:form id="profile_edit">
            <h:messages styleClass="messages" />
            <div class="form-group">
                <h:outputLabel value="Username" for="username" />
                <h:inputText label="Username" id="username" class="form-control"
                             value="#{userSession.user.userName}" required="true">
                    <f:validateLength minimum="3" maximum="20" />
                </h:inputText>
            </div>
            <div class="form-group">
                <h:outputLabel value="Real name:" for="realName" />
                <h:inputText class="form-control" label="Real name" id="realName"
                             value="#{userSession.user.realName}" required="false">
                    <f:validateLength minimum="0" maximum="20" />
                </h:inputText>
            </div>
            <div class="form-group">
                <h:outputLabel value="Birthday:" for="birthday" />
                <h:inputText class="form-control" label="Birthday" id="birthday"
                             value="#{userSession.user.birthday}" required="true">
                </h:inputText>
            </div>
            <div class="form-group">
                <h:outputLabel value="Country:" for="country" />
                <h:inputText class="form-control" label="Country" id="country"
                             value="#{userSession.user.address.country}" required="false">
                    <f:validateLength minimum="0" maximum="20" />
                </h:inputText>
            </div>
            <div class="form-group">
                <h:outputLabel value="Postal code:" for="zipcode" />
                <h:inputText class="form-control" label="Postal code" id="zipcode"
                             value="#{userSession.user.address.zipcode}" required="false">
                    <f:validateLength minimum="0" maximum="10" />
                </h:inputText>
            </div>
            <div class="form-group">
                <h:outputLabel value="City:" for="city" />
                <h:inputText class="form-control" label="City" id="city"
                             value="#{userSession.user.address.city}" required="false">
                    <f:validateLength minimum="0" maximum="20" />
                </h:inputText>
            </div>
            <div class="form-group">
                <h:outputLabel value="Street:" for="street" />
                <h:inputText class="form-control" label="Street" id="street"
                             value="#{userSession.user.address.street}" required="false">
                    <f:validateLength minimum="0" maximum="20" />
                </h:inputText>
            </div>
            <div class="form-group">
                <h:outputLabel value="Streetnumber:" for="streetnr" />
                <h:inputText class="form-control" type="number" label="Streetnumber"
                             id="streetnr" value="#{userSession.user.address.streetNumber}"
                             required="false" />
            </div>
            <h:commandButton class="btn btn-lg btn-primary btn-block"
                             value="Save" action="#{userSession.saveUser}" />
        </h:form>
        <hr />
        <h2>Change Password</h2>
        <h:form id="profile_pw_edit">
            <div class="form-group">
                <h:outputLabel value="New Password:" for="password" />
                <h:inputSecret class="form-control" label="New Password"
                               id="password" value="#{userSession.user.password}" required="true" />
            </div>
            <h:commandButton class="btn btn-lg btn-primary btn-block"
                             value="Save" action="#{userSession.saveUser}" />
        </h:form>
    </ui:define>
</ui:composition>